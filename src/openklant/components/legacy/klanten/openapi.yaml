openapi: 3.0.3
info:
  title: Klanten API
  version: 1.0.0
  description: |
    Een API om klanten te benaderen.

    Een API om zowel klanten te registreren als op te vragen. Een klant
    is een natuurlijk persoon, niet-natuurlijk persoon (bedrijf) of vestiging
    waarbij het gaat om niet geverifieerde gegevens. De Klanten API kan
    zelfstandig of met andere API's samen werken om tot volledige functionaliteit
    te komen.

    **Afhankelijkheden**

    Deze API is afhankelijk van:

    * Autorisaties API
    * Notificaties API
    * Zaken API *(optioneel)*
    * Documenten API *(optioneel)*

    **API specificatie afwijkingen**

    Afwijkingen in de API specificatie ten opzichte van de referentie API specificatie
    zijn aangemerkt met ***AFWIJKING:**

    **Autorisatie**

    Deze API vereist autorisatie. Je kan de
    [token-tool](https://zaken-auth.vng.cloud/) gebruiken om JWT-tokens te
    genereren.

    **Notificaties**

    Deze API publiceert notificaties op het kanaal `klanten`.

    **Main resource**

    `klant`



    **Kenmerken**

    * `subject_type`: Type van de `subject`.

    **Resources en acties**


    **Handige links**

    * [Documentatie](https://zaakgerichtwerken.vng.cloud/standaard)
    * [Zaakgericht werken](https://zaakgerichtwerken.vng.cloud)
  contact:
    email: standaarden.ondersteuning@vng.nl
    url: https://zaakgerichtwerken.vng.cloud
  license:
    name: EUPL 1.2
    url: https://opensource.org/licenses/EUPL-1.2
paths:
  /v1/klanten:
    get:
      operationId: v1KlantenList
      description: Alle KLANTen opvragen.
      summary: Alle KLANTen opvragen.
      parameters:
      - in: query
        name: achternaam
        schema:
          type: string
      - in: query
        name: adres__landcode
        schema:
          type: string
      - in: query
        name: adres__postcode
        schema:
          type: string
      - in: query
        name: adres__straatnaam
        schema:
          type: string
      - in: query
        name: adres__woonplaats_naam
        schema:
          type: string
      - in: query
        name: bedrijfsnaam
        schema:
          type: string
      - in: query
        name: bronorganisatie
        schema:
          type: string
      - in: query
        name: emailadres
        schema:
          type: string
      - in: query
        name: functie
        schema:
          type: string
      - in: query
        name: klantnummer
        schema:
          type: string
      - name: page
        required: false
        in: query
        description: Een pagina binnen de gepagineerde set resultaten.
        schema:
          type: integer
      - in: query
        name: subject
        schema:
          type: string
      - in: query
        name: subject_natuurlijk_persoon__anp_identificatie
        schema:
          type: string
        description: Het door de gemeente uitgegeven unieke nummer voor een ANDER
          NATUURLIJK PERSOON
      - in: query
        name: subject_natuurlijk_persoon__geboortedatum
        schema:
          type: string
        description: '***AFWIJKING:** Geboortedatum van de persoon'
      - in: query
        name: subject_natuurlijk_persoon__geboortedatum__gt
        schema:
          type: string
        description: '***AFWIJKING:** Geboortedatum van de persoon'
      - in: query
        name: subject_natuurlijk_persoon__geboortedatum__gte
        schema:
          type: string
        description: '***AFWIJKING:** Geboortedatum van de persoon'
      - in: query
        name: subject_natuurlijk_persoon__geboortedatum__lt
        schema:
          type: string
        description: '***AFWIJKING:** Geboortedatum van de persoon'
      - in: query
        name: subject_natuurlijk_persoon__geboortedatum__lte
        schema:
          type: string
        description: '***AFWIJKING:** Geboortedatum van de persoon'
      - in: query
        name: subject_natuurlijk_persoon__inp_a_nummer
        schema:
          type: string
        description: Het administratienummer van de persoon, bedoeld in de Wet BRP
      - in: query
        name: subject_natuurlijk_persoon__inp_bsn
        schema:
          type: string
        description: Het burgerservicenummer, bedoeld in artikel 1.1 van de Wet algemene
          bepalingen burgerservicenummer.
      - in: query
        name: subject_niet_natuurlijk_persoon__ann_identificatie
        schema:
          type: string
        description: Het door de gemeente uitgegeven unieke nummer voor een ANDER
          NIET-NATUURLIJK PERSOON
      - in: query
        name: subject_niet_natuurlijk_persoon__inn_nnp_id
        schema:
          type: string
        description: Het door een kamer toegekend uniek nummer voor de INGESCHREVEN
          NIET-NATUURLIJK PERSOON
      - in: query
        name: subject_type
        schema:
          type: string
          nullable: true
          enum:
          - natuurlijk_persoon
          - niet_natuurlijk_persoon
          - vestiging
        description: |-
          Type van de `subject`.

          * `natuurlijk_persoon` - Natuurlijk persoon
          * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
          * `vestiging` - Vestiging
      - in: query
        name: subject_vestiging__vestigings_nummer
        schema:
          type: string
        description: Een korte unieke aanduiding van de Vestiging.
      - in: query
        name: telefoonnummer
        schema:
          type: string
      tags:
      - klanten
      security:
      - JWT-Claims:
        - klanten.lezen
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedKlantList'
          description: ''
    post:
      operationId: v1KlantenCreate
      description: Maak een KLANT aan.
      summary: Maak een KLANT aan.
      tags:
      - klanten
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Klant'
        required: true
      security:
      - JWT-Claims:
        - klanten.aanmaken
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Klant'
          description: ''
  /v1/klanten/{klantUuid}/audittrail:
    get:
      operationId: v1KlantenAudittrailList
      description: Alle audit trail regels behorend bij de KLANT.
      summary: Alle audit trail regels behorend bij de KLANT.
      parameters:
      - in: path
        name: klantUuid
        schema:
          type: string
        required: true
      - name: page
        required: false
        in: query
        description: Een pagina binnen de gepagineerde set resultaten.
        schema:
          type: integer
      tags:
      - klanten
      security:
      - JWT-Claims:
        - audittrails.lezen
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAuditTrailList'
          description: ''
  /v1/klanten/{klantUuid}/audittrail/{uuid}:
    get:
      operationId: v1KlantenAudittrailRetrieve
      description: Een specifieke audit trail regel opvragen.
      summary: Een specifieke audit trail regel opvragen.
      parameters:
      - in: path
        name: klantUuid
        schema:
          type: string
        required: true
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
          description: Unieke identificatie van de audit regel.
        required: true
      tags:
      - klanten
      security:
      - JWT-Claims:
        - audittrails.lezen
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuditTrail'
          description: ''
  /v1/klanten/{uuid}:
    get:
      operationId: v1KlantenRetrieve
      description: Een specifiek KLANT opvragen.
      summary: Een specifiek KLANT opvragen.
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
          description: Unieke resource identifier (UUID4)
        required: true
      tags:
      - klanten
      security:
      - JWT-Claims:
        - klanten.lezen
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Klant'
          description: ''
    put:
      operationId: v1KlantenUpdate
      description: Werk een KLANT in zijn geheel bij.
      summary: Werk een KLANT in zijn geheel bij.
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
          description: Unieke resource identifier (UUID4)
        required: true
      tags:
      - klanten
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Klant'
        required: true
      security:
      - JWT-Claims:
        - klanten.bijwerken
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Klant'
          description: ''
    patch:
      operationId: v1KlantenPartialUpdate
      description: Werk een KLANT deels bij.
      summary: Werk een KLANT deels bij.
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
          description: Unieke resource identifier (UUID4)
        required: true
      tags:
      - klanten
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedKlant'
      security:
      - JWT-Claims:
        - klanten.bijwerken
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Klant'
          description: ''
    delete:
      operationId: v1KlantenDestroy
      description: Verwijder een KLANT.
      summary: Verwijder een KLANT.
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
          description: Unieke resource identifier (UUID4)
        required: true
      tags:
      - klanten
      security:
      - JWT-Claims:
        - klanten.verwijderen
      responses:
        '204':
          description: No response body
components:
  schemas:
    AuditTrail:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
          description: Unieke identificatie van de audit regel.
        bron:
          allOf:
          - $ref: '#/components/schemas/BronEnum'
          description: |-
            De naam van het component waar de wijziging in is gedaan.

            Uitleg bij mogelijke waarden:

            * `ac` - Autorisaties API
            * `nrc` - Notificaties API
            * `zrc` - Zaken API
            * `ztc` - Catalogi API
            * `drc` - Documenten API
            * `brc` - Besluiten API
            * `cmc` - Contactmomenten API
            * `kc` - Klanten API
            * `vrc` - Verzoeken API

            * `ac` - Autorisaties API
            * `nrc` - Notificaties API
            * `zrc` - Zaken API
            * `ztc` - Catalogi API
            * `drc` - Documenten API
            * `brc` - Besluiten API
            * `cmc` - Contactmomenten API
            * `kc` - Klanten API
            * `vrc` - Verzoeken API
        applicatieId:
          type: string
          description: Unieke identificatie van de applicatie, binnen de organisatie.
          maxLength: 100
        applicatieWeergave:
          type: string
          description: Vriendelijke naam van de applicatie.
          maxLength: 200
        gebruikersId:
          type: string
          description: Unieke identificatie van de gebruiker die binnen de organisatie
            herleid kan worden naar een persoon.
          maxLength: 255
        gebruikersWeergave:
          type: string
          description: Vriendelijke naam van de gebruiker.
          maxLength: 255
        actie:
          type: string
          description: |-
            De uitgevoerde handeling.

            De bekende waardes voor dit veld zijn hieronder aangegeven,                         maar andere waardes zijn ook toegestaan

            Uitleg bij mogelijke waarden:

            * `create` - Object aangemaakt
            * `list` - Lijst van objecten opgehaald
            * `retrieve` - Object opgehaald
            * `destroy` - Object verwijderd
            * `update` - Object bijgewerkt
            * `partial_update` - Object deels bijgewerkt
          maxLength: 50
        actieWeergave:
          type: string
          description: Vriendelijke naam van de actie.
          maxLength: 200
        resultaat:
          type: integer
          maximum: 599
          minimum: 100
          description: HTTP status code van de API response van de uitgevoerde handeling.
        hoofdObject:
          type: string
          format: uri
          description: De URL naar het hoofdobject van een component.
          maxLength: 1000
        resource:
          type: string
          description: Het type resource waarop de actie gebeurde.
          maxLength: 50
        resourceUrl:
          type: string
          format: uri
          description: De URL naar het object.
          maxLength: 1000
        toelichting:
          type: string
          description: Toelichting waarom de handeling is uitgevoerd.
        resourceWeergave:
          type: string
          description: Vriendelijke identificatie van het object.
          maxLength: 200
        aanmaakdatum:
          type: string
          format: date-time
          readOnly: true
          description: De datum waarop de handeling is gedaan.
        wijzigingen:
          $ref: '#/components/schemas/Wijzigingen'
      required:
      - aanmaakdatum
      - actie
      - bron
      - hoofdObject
      - resource
      - resourceUrl
      - resourceWeergave
      - resultaat
      - wijzigingen
    BlankEnum:
      enum:
      - ''
    BronEnum:
      enum:
      - ac
      - nrc
      - zrc
      - ztc
      - drc
      - brc
      - cmc
      - kc
      - vrc
      type: string
      description: |-
        * `ac` - Autorisaties API
        * `nrc` - Notificaties API
        * `zrc` - Zaken API
        * `ztc` - Catalogi API
        * `drc` - Documenten API
        * `brc` - Besluiten API
        * `cmc` - Contactmomenten API
        * `kc` - Klanten API
        * `vrc` - Verzoeken API

        * `ac` - Autorisaties API
        * `nrc` - Notificaties API
        * `zrc` - Zaken API
        * `ztc` - Catalogi API
        * `drc` - Documenten API
        * `brc` - Besluiten API
        * `cmc` - Contactmomenten API
        * `kc` - Klanten API
        * `vrc` - Verzoeken API
    Klant:
      type: object
      properties:
        url:
          type: string
          format: uri
          readOnly: true
        bronorganisatie:
          type: string
          description: Het RSIN van de Niet-natuurlijk persoon zijnde de organisatie
            die de klant heeft gecreeerd. Dit moet een geldig RSIN zijn van 9 nummers
            en voldoen aan https://nl.wikipedia.org/wiki/Burgerservicenummer#11-proef
          maxLength: 9
        klantnummer:
          type: string
          description: De unieke identificatie van de klant binnen de bronorganisatie.
          pattern: ^[0-9]+$
          maxLength: 8
        bedrijfsnaam:
          type: string
          description: De bedrijfsnaam van de klant.
          maxLength: 200
        functie:
          type: string
          description: De functie van de klant.
          maxLength: 200
        websiteUrl:
          type: string
          format: uri
          description: Het label of etiket dat aan de specifieke informatiebron, zoals
            een webpagina, een bestand of een plaatje op internet is toegewezen waar
            de KLANT in de regel op het internet vindbaar is.
          maxLength: 1000
        voornaam:
          type: string
          description: De voornaam, voorletters of roepnaam van de klant.
          maxLength: 200
        voorvoegselAchternaam:
          type: string
          description: Het voorvoegsel van de achternaam van de klant.
          maxLength: 10
        achternaam:
          type: string
          description: De achternaam van de klant.
          maxLength: 200
        telefoonnummer:
          type: string
          description: Het mobiele of vaste telefoonnummer van de klant.
          maxLength: 20
        emailadres:
          type: string
          format: email
          description: Het e-mail adres van de klant.
          maxLength: 254
        adres:
          allOf:
          - $ref: '#/components/schemas/KlantAdres'
          nullable: true
          description: Adresgegevens zoals opgegeven door de klant (kan ook een buitenlandsadres
            zijn)
        subject:
          type: string
          format: uri
          description: URL-referentie naar een subject
          maxLength: 1000
        subjectType:
          nullable: true
          description: |-
            Type van de `subject`.

            Uitleg bij mogelijke waarden:

            * `natuurlijk_persoon` - Natuurlijk persoon
            * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
            * `vestiging` - Vestiging

            * `natuurlijk_persoon` - Natuurlijk persoon
            * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
            * `vestiging` - Vestiging
          oneOf:
          - $ref: '#/components/schemas/SubjectTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        aanmaakkanaal:
          type: string
          description: '***AFWIJKING:** Het communicatiekanaal waarlangs de klant
            is aangemaakt.'
          maxLength: 50
        geverifieerd:
          type: boolean
          description: '***AFWIJKING:** Geeft aan of de KLANT wel of niet geverifieerd
            is.'
      required:
      - bronorganisatie
      - url
    KlantAdres:
      type: object
      properties:
        straatnaam:
          type: string
          maxLength: 100
        huisnummer:
          type: integer
          maximum: 99999
          minimum: 0
          nullable: true
        huisletter:
          type: string
          maxLength: 1
        huisnummertoevoeging:
          type: string
          maxLength: 4
        postcode:
          type: string
          maxLength: 7
        woonplaatsnaam:
          type: string
          maxLength: 80
        landcode:
          type: string
          description: De code, behorende bij de landnaam, zoals opgenomen in de Land/Gebied-tabel
            van de BRP.
          maxLength: 4
    NullEnum:
      enum:
      - null
    PaginatedAuditTrailList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/AuditTrail'
    PaginatedKlantList:
      type: object
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Klant'
    PatchedKlant:
      type: object
      properties:
        url:
          type: string
          format: uri
          readOnly: true
        bronorganisatie:
          type: string
          description: Het RSIN van de Niet-natuurlijk persoon zijnde de organisatie
            die de klant heeft gecreeerd. Dit moet een geldig RSIN zijn van 9 nummers
            en voldoen aan https://nl.wikipedia.org/wiki/Burgerservicenummer#11-proef
          maxLength: 9
        klantnummer:
          type: string
          description: De unieke identificatie van de klant binnen de bronorganisatie.
          pattern: ^[0-9]+$
          maxLength: 8
        bedrijfsnaam:
          type: string
          description: De bedrijfsnaam van de klant.
          maxLength: 200
        functie:
          type: string
          description: De functie van de klant.
          maxLength: 200
        websiteUrl:
          type: string
          format: uri
          description: Het label of etiket dat aan de specifieke informatiebron, zoals
            een webpagina, een bestand of een plaatje op internet is toegewezen waar
            de KLANT in de regel op het internet vindbaar is.
          maxLength: 1000
        voornaam:
          type: string
          description: De voornaam, voorletters of roepnaam van de klant.
          maxLength: 200
        voorvoegselAchternaam:
          type: string
          description: Het voorvoegsel van de achternaam van de klant.
          maxLength: 10
        achternaam:
          type: string
          description: De achternaam van de klant.
          maxLength: 200
        telefoonnummer:
          type: string
          description: Het mobiele of vaste telefoonnummer van de klant.
          maxLength: 20
        emailadres:
          type: string
          format: email
          description: Het e-mail adres van de klant.
          maxLength: 254
        adres:
          allOf:
          - $ref: '#/components/schemas/KlantAdres'
          nullable: true
          description: Adresgegevens zoals opgegeven door de klant (kan ook een buitenlandsadres
            zijn)
        subject:
          type: string
          format: uri
          description: URL-referentie naar een subject
          maxLength: 1000
        subjectType:
          nullable: true
          description: |-
            Type van de `subject`.

            Uitleg bij mogelijke waarden:

            * `natuurlijk_persoon` - Natuurlijk persoon
            * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
            * `vestiging` - Vestiging

            * `natuurlijk_persoon` - Natuurlijk persoon
            * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
            * `vestiging` - Vestiging
          oneOf:
          - $ref: '#/components/schemas/SubjectTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        aanmaakkanaal:
          type: string
          description: '***AFWIJKING:** Het communicatiekanaal waarlangs de klant
            is aangemaakt.'
          maxLength: 50
        geverifieerd:
          type: boolean
          description: '***AFWIJKING:** Geeft aan of de KLANT wel of niet geverifieerd
            is.'
    SubjectTypeEnum:
      enum:
      - natuurlijk_persoon
      - niet_natuurlijk_persoon
      - vestiging
      type: string
      description: |-
        * `natuurlijk_persoon` - Natuurlijk persoon
        * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
        * `vestiging` - Vestiging

        * `natuurlijk_persoon` - Natuurlijk persoon
        * `niet_natuurlijk_persoon` - Niet-natuurlijk persoon
        * `vestiging` - Vestiging
    Wijzigingen:
      type: object
      description: |-
        Generate a serializer out of a GegevensGroepType.

        Usage::

        >>> class VerlengingSerializer(GegevensGroepSerializer):
        ...     class Meta:
        ...         model = Zaak
        ...         gegevensgroep = 'verlenging'
        >>>

        Where ``Zaak.verlenging`` is a :class:``GegevensGroepType``.
      properties:
        oud:
          description: Volledige JSON body van het object zoals dat bestond voordat
            de actie heeft plaatsgevonden.
        nieuw:
          description: Volledige JSON body van het object na de actie.
  securitySchemes:
    JWT-Claims:
      type: http
      scheme: bearer
      bearerFormat: JWT
